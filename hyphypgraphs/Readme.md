# Community structure of hyperbolic hypergraphs

Hypergraphs, consisting of nodes and hyperedges that can express not only pairwise but higher-order interactions too, are gaining more and more attention in recent years with the increasing amount of accessible network data of this type. Just like in the case of usual graphs, mesoscale structures given by the nodes’ communities are intensively studied in hypergraphs too. Though there are several different [simple graph representations of hypergraphs](https://www.sciencedirect.com/science/article/pii/S0370157320302489#sec2) that can be inputted to community detection methods designed not specifically for hypergraphs, there is a rising need to develop such algorithms that search for the hypergraphs’ modular structure considering their hyperedges in their original form (see the section *„The advantage of using hypergraphs”* [here](https://www.nature.com/articles/s41467-022-34714-7#Sec2)).

Meanwhile, in the field of usual, simple graphs, the topic of geometric graphs is thriving. Networks generated on the hyperbolic (i.e., negatively curved) plane using distance-dependent connection probabilities between the nodes are known to successfully reproduce many graph properties that are often observed in real-world networks. One of them is [the presence of strong communities](https://www.nature.com/articles/s41598-021-93921-2) that automatically appear as angular sectors on the hyperbolic plane.

<img width="1324" alt="S1_61comms_k5" src="S1_k5.png">

*This figure shows a network generated on the hyperbolic plane by the* $\mathbb{S}^1/\mathbb{H}^2$ *[model](https://www.nature.com/articles/s41598-021-93921-2#Sec2). The colored communities were detected by the [k-clique percolation method](https://www.nature.com/articles/nature03607), which identifies a community as a union of all k-cliques (defined as complete subgraphs of k nodes) that can be reached from each other through a series of adjacent k-cliques (where adjacency means sharing k-1 nodes). The grey circles denote nodes assigned to more than one community at the same time (i.e., here different communities overlap). The white squares denote nodes that were not assigned to any community.*

The main purpose of this project is to modify the clique percolation method to operate on the node sets held together by hyperedges instead of the node sets defined by *k*-cliques, and apply the obtained hyperedge-based community detection algorithm to hypergraphs yielded by a modified $\mathbb{S}^1/\mathbb{H}^2$ model in order to decide whether the appearance of angularly separated communities is only a specificity of usual hyperbolic graphs or this phenomenon occurs in hyperbolic hypergraphs too.


## Proposed steps for the project

1. Reproduce the above figure.
    1. Implement the $\mathbb{S}^1/\mathbb{H}^2$ [model of network generation](https://www.nature.com/articles/s41598-021-93921-2#Sec2) at $1/\alpha=0$ (i.e., when the connection probability function is a simple step function) in **Python**. Generate a network in the native representation of the hyperbolic plane with $N=1000$ nodes, having an expected average degree of $\langle k\rangle=10$ and a degree decay exponent of $\gamma=3$. Store the resulting graph as a **NetworkX Graph** object (see e.g. [this tutorial](https://networkx.org/documentation/stable/tutorial.html) – you don’t have to know anything about directed graphs, multigraphs, etc.).
    2. Search for communities in the generated graph with the [*k*-clique percolation method](https://networkx.org/documentation/stable/reference/algorithms/generated/networkx.algorithms.community.kclique.k_clique_communities.html) implemented in the **NetworkX** package, setting the clique size *k* to $5$. Test some smaller and larger *k* values too, to see the impact of this parameter.
    3. Plot the generated graph in the native representation of the hyperbolic plane, denoting the detected communities.
2. Modify the $\mathbb{S}^1/\mathbb{H}^2$ model to generate hypergraphs on the hyperbolic plane.
   	1. Familiarize yourself with the **hypergraphx** package ([GitHub](https://github.com/HGX-Team/hypergraphx), [paper](https://arxiv.org/abs/2303.15356)): How are the hyperedges stored?
	2. Implement a hyperbolic model of hypergraphs, which arranges the network nodes on the hyperbolic plane the same way as the $\mathbb{S}^1/\mathbb{H}^2$ model but then, instead of connecting the closest node pairs, creates hyperedges as circles dropped onto the hyperbolic plane (nodes falling within a given circle will be connected by a hyperedge). Store the generated networks as **Hypergraph** objects from **hypergraphx**.
	3. Using the functions implemented in **hypergraphx**, check the obtained hyperedge size distribution, the hyperdegree distribution (where the hyperdegree of a node is the number of hyperedges to which the given node belongs) and the degree distribution (where the degree of a node is the number of nodes with which the given node has any connection).
4. Using **hypergraphx**, transform the generated hyperbolic hypergraph to a simple graph with clique expansion, converting each hyperedge of cardinality (i.e., size) *k* to a *k*-clique, i.e. a fully connected subgraph of *k* nodes. Try to find (and depict) communities in the obtained simple graph using the *k*-clique percolation method implemented in the **NetworkX** package. Can the nodes be sorted into communities according to angular sectors on the hyperbolic plane?
5. Implement a clique percolation that operates on the node sets held together by hyperedges instead of the node sets defined by *k*-cliques. Try to find the best way to transform the definition of „adjacent cliques” to „adjacent hyperedges” (note that here the „clique sizes” (i.e., the hyperedge sizes) are not equal anymore). Try to find communities in the generated hyperbolic hypergraph using your new hyperedge percolation method. Can the nodes be sorted into communities according to angular sectors on the hyperbolic plane? (It is not required to plot the hyperedges, it is enough to plot the node arrangement.)


